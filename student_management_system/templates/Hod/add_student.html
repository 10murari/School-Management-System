{% extends 'base.html'%}
{% block content%}

<div class="row">
    <div class="col-sm-12">     
       <div class="card">
          <div class="card-body">
             <form method="post" action="{% url 'add_student' %}" enctype="multipart/form-data">
                    {% csrf_token %}
                   <div class="col-12">
                               <h5 class="form-title">
                               <span>Add Student</span></h5>
                   </div>
                      {% if messages %}
                        {% for message in messages %}
                            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                                 {{ message }}
                                 <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                 </button>
                            </div>
                         {% endfor %}
                      {% endif %}

                      <div class="form-group">
                         <label> Profile Pic</label>
                         <input type="file" class="form-control" name="profile_pic" >
                         {% if profile_pic %}
                           <small class="text-muted">Previously uploaded file: {{ profile_pic.name }}</small>
                        {% endif %}
                      </div>
                   <div class="col-12 col-sm-6">
                      <div class="form-group">
                         <label>First Name</label>
                         <input type="text" class="form-control" name="first_name" value="{{ request.POST.first_name }}" required>
                      </div>
                   </div>
                   <div class="col-12 col-sm-6">
                      <div class="form-group">
                         <label>Last Name</label>
                         <input type="text" class="form-control" name="last_name" value="{{ request.POST.last_name }}" required></div>
                   </div>
                   <div class="col-12 col-sm-6">
                       <div class="form-group">
                          <label>Email </label>
                         <input type="text" class="form-control" name="email" value="{{ request.POST.email }}" required>
                        </div>
                   </div>
                   <div class="col-12 col-sm-6">
                       <div class="form-group">
                          <label>Username</label>
                         <input type="text" class="form-control" name="username" value="{{ request.POST.username }}" required>
                        </div>
                   </div>
                   <div class="col-12 col-sm-6">
                         <div class="form-group" >
                            <label>Gender</label>
                            <select class="form-control" name="gender" required>
                                 <option value=''>Select Gender</option>
                                 <option value="Female">Female</option>
                                 <option value="Male">Male</option>
                                 <option value="Others">Others </option>
                            </select>
                         </div>
                   </div>
                   <div class="col-12 col-sm-6">
                     <label>Grade</label>
                        <select class="form-control" name="course_id" required>
                           <option value=''>Select Grade</option>
                           {% for i in course %}
                           <option value="{{i.id}}">{{i.name}}</option>
                           {% endfor %}
                           </select> 
                   </div> 
                   <br>
                   <div class="col-12 col-sm-6">
                      <div class="form-group">
                         <label>Batch Year</label>  
                          <select class="form-control" name="batch_id" required>
                              <option value=''>Select batch year</option>
                              {% for i in batch %}
                              <option value="{{i.id}}"> {{i.batch_start}} To {{i.batch_end}}</option>
                              {% endfor %}
                           </select>
                     </div>
                   </div>   
                  <div class="col-sm-6">
                      <div class="form-group">
                         <label>Address</label>
                         <textarea class ="form-control" name="address" required>{{ address|default:'' }}</textarea>
                      </div>
                 </div>
                 <div class="col-12 col-sm-6">
                    <div class="form-group">
                       <label>Password</label>
                       <input type="password" class="form-control" name="password" value="{{ request.POST.password }}" required>
                     </div>
                  </div>
                    <div class="col-12">
                      <button type="submit" class="btn btn-primary">Add Student</button>
                     </div>
            </form>
          </div>
       </div>
    </div>
</div>


{% endblock %}